<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>الصف الخامس الابتدائي | نواة STEM</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Cairo', 'sans-serif'] },
          colors: {
            'fun-blue': '#3b82f6',
            'fun-purple': '#8b5cf6',
            'fun-pink': '#ec4899',
            'fun-yellow': '#f59e0b',
            'fun-green': '#10b981',
            'fun-orange': '#f97316',
            'cream': '#fffbeb',
          }
        }
      }
    }
  </script>

  <style>
    body { background-color:#fffbeb; }
    .modal-scroll::-webkit-scrollbar { width: 8px; }
    .modal-scroll::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
    .modal-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }

    /* بديل line-clamp (Tailwind plugin) */
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* خلفية نقطية بسيطة داخل رأس المودال */
    .pattern-dots {
      background-image: radial-gradient(rgba(255,255,255,0.7) 1px, transparent 1px);
      background-size: 14px 14px;
    }
  </style>
</head>

<body class="bg-cream min-h-screen text-slate-800">

  <!-- Header -->
  <header class="bg-white/90 backdrop-blur border-b-4 border-fun-purple sticky top-0 z-30 shadow-sm">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="index.html" class="flex items-center gap-2 text-slate-600 hover:text-fun-purple transition-colors font-bold">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        الرئيسية
      </a>

      <h1 class="text-xl font-black text-fun-purple">الصف الخامس الابتدائي</h1>
    </div>
  </header>

  <!-- Lessons Grid -->
  <main class="container mx-auto px-4 py-10">
    <div id="lessons-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- سيتم تعبئة الدروس هنا تلقائياً -->
    </div>
  </main>

  <!-- Modal -->
  <div id="lesson-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-label="Lesson modal">
    <div class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop"></div>

    <div class="fixed inset-0 z-10 overflow-y-auto pointer-events-none">
      <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0 pointer-events-auto">
        <div class="relative transform overflow-hidden rounded-[2rem] bg-white text-right shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-4xl opacity-0 scale-95"
             id="modal-panel">

          <button type="button" onclick="closeModal()" class="absolute top-4 left-4 p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-500 z-20 shadow-sm transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
          <button type="button" onclick="printCurrentLesson()" title="طباعة الدرس"
                  class="absolute top-4 left-16 p-2 bg-white/90 hover:bg-white rounded-full text-slate-700 z-20 shadow-sm transition-colors border border-slate-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9V2h12v7M6 18H5a2 2 0 01-2-2v-5a2 2 0 012-2h14a2 2 0 012 2v5a2 2 0 01-2 2h-1" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 14h12v8H6v-8z" />
            </svg>
          </button>
        

          <div class="bg-fun-purple p-8 text-white relative overflow-hidden">
            <div class="relative z-10">
              <h2 id="modal-title" class="text-3xl font-black mb-2"></h2>
              <p id="modal-desc" class="text-white/90 font-medium text-lg"></p>
            </div>
            <div class="absolute top-0 left-0 w-full h-full bg-white/10 opacity-30 pattern-dots"></div>
          </div>

          <div id="modal-content" class="p-8 max-h-[70vh] overflow-y-auto modal-scroll space-y-8 text-slate-700 leading-relaxed text-right"></div>

        </div>
      </div>
    </div>
  </div>

  <script>
    // ------------------------------
    // بيانات الدروس (معبّأة)
    // ------------------------------
    const lessons = [
  {
    "id": 1,
    "title": "01 تصنيف المخلوقات الحية",
    "desc": "فهم مفهوم تصنيف المخلوقات الحية عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم تصنيف المخلوقات الحية ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "تصنيف المخلوقات الحية",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول تصنيف المخلوقات الحية (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ تصنيف المخلوقات الحية؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم تصنيف المخلوقات الحية في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 2,
    "title": "02 النباتات",
    "desc": "فهم مفهوم النباتات عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم النباتات ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "النباتات",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول النباتات (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ النباتات؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم النباتات في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 3,
    "title": "03 التكاثر",
    "desc": "فهم مفهوم التكاثر عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم التكاثر ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "التكاثر",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول التكاثر (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ التكاثر؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم التكاثر في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 4,
    "title": "04 دورات الحياة",
    "desc": "فهم مفهوم دورات الحياة عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم دورات الحياة ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "دورات الحياة",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول دورات الحياة (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ دورات الحياة؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم دورات الحياة في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 5,
    "title": "05 علاقات الأنظمة البيئية",
    "desc": "فهم مفهوم علاقات الأنظمة البيئية عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم علاقات الأنظمة البيئية ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "علاقات الأنظمة البيئية",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول علاقات الأنظمة البيئية (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ علاقات الأنظمة البيئية؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم علاقات الأنظمة البيئية في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 6,
    "title": "06 التكيف والبقاء",
    "desc": "فهم مفهوم التكيف والبقاء عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم التكيف والبقاء ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "التكيف والبقاء",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول التكيف والبقاء (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ التكيف والبقاء؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم التكيف والبقاء في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 7,
    "title": "07 الدورات في الأنظمة البيئية",
    "desc": "فهم مفهوم الدورات في الأنظمة البيئية عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم الدورات في الأنظمة البيئية ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "الدورات في الأنظمة البيئية",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول الدورات في الأنظمة البيئية (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ الدورات في الأنظمة البيئية؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم الدورات في الأنظمة البيئية في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 8,
    "title": "08 التغيرات في الأنظمة البيئية",
    "desc": "فهم مفهوم التغيرات في الأنظمة البيئية عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم التغيرات في الأنظمة البيئية ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "التغيرات في الأنظمة البيئية",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول التغيرات في الأنظمة البيئية (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ التغيرات في الأنظمة البيئية؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم التغيرات في الأنظمة البيئية في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 9,
    "title": "09 أشكال سطح الأرض",
    "desc": "فهم مفهوم أشكال سطح الأرض عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم أشكال سطح الأرض ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "أشكال سطح الأرض",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول أشكال سطح الأرض (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ أشكال سطح الأرض؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم أشكال سطح الأرض في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 10,
    "title": "10 العمليات المؤثرة في سطح الأرض",
    "desc": "فهم مفهوم العمليات المؤثرة في سطح الأرض عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم العمليات المؤثرة في سطح الأرض ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "العمليات المؤثرة في سطح الأرض",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول العمليات المؤثرة في سطح الأرض (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ العمليات المؤثرة في سطح الأرض؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم العمليات المؤثرة في سطح الأرض في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 11,
    "title": "11 مصادر الطاقة",
    "desc": "فهم مفهوم مصادر الطاقة عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم مصادر الطاقة ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "مصادر الطاقة",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول مصادر الطاقة (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ مصادر الطاقة؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم مصادر الطاقة في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  },
  {
    "id": 12,
    "title": "12 الهواء والماء",
    "desc": "فهم مفهوم الهواء والماء عبر نشاط استقصائي وتحدي STEM قابل للتطبيق.",
    "objectives": {
      "knowledge": [
        "أن يشرح الطالب مفهوم الهواء والماء ويعطي مثالين.",
        "أن يربط المفهوم ببيئة المملكة أو الحياة اليومية.",
        "أن يفسر نتيجة تجربة بسيطة مرتبطة بالدرس."
      ],
      "skills": [
        "جمع بيانات وتمثيلها (جدول/مخطط بسيط).",
        "تصميم نموذج/حل وتحسينه عبر اختبار متغيرات."
      ],
      "values": [
        "المسؤولية العلمية واحترام الأدلة والعمل التعاوني."
      ]
    },
    "vocab": [
      "الهواء والماء",
      "نموذج",
      "متغير",
      "دليل",
      "بيانات"
    ],
    "stem": {
      "s": "استقصاء علمي حول الهواء والماء (ملاحظة/تفسير).",
      "t": "استخدام أداة رقمية لتوثيق النتائج (صور/فيديو/مخطط).",
      "e": "تصميم منتج/حل هندسي صغير وفق معايير.",
      "m": "قياس/حساب/مقارنة وتحليل بيانات."
    },
    "intro": "نشاط تمهيدي: اعرض موقفاً/صورة واسأل: كيف يرتبط هذا بـ الهواء والماء؟",
    "plan": [
      "تمهيد (5 د): سؤال محفز + توقعات الطلاب.",
      "عرض المفهوم مع أمثلة (10–12 د).",
      "استقصاء قصير (10–15 د): تجربة/تصنيف/مقارنة.",
      "تحدي STEM (15–20 د): تصميم + اختبار + تحسين.",
      "عرض النتائج وتقويم ختامي (5 د)."
    ],
    "activity": {
      "materials": [
        "ورق رسم بياني",
        "مسطرة/مؤقت",
        "مواد نشاط بحسب الموضوع (تربة/ماء/ورق/مطاط...)",
        "هاتف للتوثيق",
        "ملصقات"
      ],
      "steps": [
        "حدد المشكلة/السؤال الهندسي المرتبط بالدرس.",
        "ضع معيار نجاح واحد على الأقل (مثلاً: أقل تكلفة/أكثر ثباتاً/أسرع).",
        "صمم النموذج واختبره وسجّل القياسات.",
        "حسّن التصميم وفسّر الفرق باستخدام بيانات."
      ],
      "product": "نموذج/تقرير قصير (جدول نتائج + استنتاج + صورة).",
      "safety": "التعامل بحذر مع المقص/السوائل، وتنظيف المكان بعد النشاط.",
      "criteria": "بيانات واضحة + تفسير صحيح + تصميم محسن + مشاركة جميع أفراد الفريق."
    },
    "assessment": {
      "pre": "ما تعريفك الأولي للمفهوم؟",
      "formative": "كيف أثرت المتغيرات على النتيجة؟",
      "summative": "اكتب فقرة قصيرة: كيف يساعد فهم الهواء والماء في حل مشكلة واقعية؟",
      "rubric": "4 مستويات: (فهم) (بيانات) (تصميم) (عرض/تعاون)."
    },
    "extras": {
      "skills21": "التفكير الناقد، الإبداع، التواصل، العمل الجماعي.",
      "diff": "للإثراء: أضف عامل تكلفة/زمن. للدعم: وفر قوالب جاهزة للجداول والرسوم.",
      "misconceptions": "قد يخلط الطالب بين السبب والنتيجة؛ اطلب دليل/بيانات قبل الحكم.",
      "enrichment": "بحث منزلي: مثال من البيئة المحلية مرتبط بالموضوع مع صورة وتعليق."
    }
  }
];

    // ------------------------------
    // وظائف العرض
    // ------------------------------
    function byId(id) { return document.getElementById(id); }

    

    // حالة الدرس الحالي للطباعة
    let currentLesson = null;

    function printCurrentLesson() {
      if (!currentLesson) return;

      const title = (currentLesson.title || '').trim();
      const desc  = (currentLesson.desc || '').trim();
      const contentHTML = byId('modal-content') ? byId('modal-content').innerHTML : '';

      const printHTML = `<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>${title} | طباعة</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box}
    body{font-family:Cairo,system-ui,-apple-system,Segoe UI,Arial,sans-serif; direction:rtl; margin:0; background:#fff; color:#0f172a}
    .wrap{max-width:900px; margin:24px auto; padding:0 16px}
    .head{border:2px solid #e2e8f0; border-radius:20px; padding:18px 18px 14px; margin-bottom:16px}
    h1{margin:0 0 6px; font-size:24px}
    p{margin:0; color:#475569; font-weight:600}
    button, .no-print{display:none !important}
    .shadow-sm,.shadow-2xl{box-shadow:none !important}
    @page{margin:14mm}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="head">
      <h1>${title}</h1>
      ${desc ? `<p>${desc}</p>` : ``}
    </div>
    <div>${contentHTML}</div>
  </div>
  <script>window.onload=()=>{window.print();};<\/script>
</body>
</html>`;

      const w = window.open('', '_blank');
      if (!w) return;
      w.document.open();
      w.document.write(printHTML);
      w.document.close();
      w.focus();
    }
function renderLessons() {
      const grid = byId('lessons-grid');
      if (!grid) return;

      grid.innerHTML = lessons.map(lesson => `
        <div onclick="openModal(${lesson.id})"
             class="bg-white rounded-[1.5rem] p-6 shadow-sm border-2 border-transparent hover:border-fun-purple hover:shadow-xl hover:-translate-y-1 transition-all cursor-pointer group relative overflow-hidden">
          <div class="relative z-10">
            <div class="flex items-start justify-between mb-4">
              <div class="w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-fun-purple font-black text-xl group-hover:bg-fun-purple group-hover:text-white transition-colors">
                ${lesson.id}
              </div>
              <span class="bg-purple-50 text-fun-purple text-xs font-bold px-3 py-1 rounded-full">عرض الدرس</span>
            </div>
            <h3 class="text-xl font-bold text-slate-800 mb-2 leading-tight">${lesson.title}</h3>
            <p class="text-slate-500 text-sm line-clamp-2">${lesson.desc}</p>
          </div>
        </div>
      `).join('');
    }

    function buildSection(title, content, icon, colorClass = "bg-slate-50") {
      if (!content || content === "غير متوفر" || (Array.isArray(content) && content.length === 0)) return '';
      return `
        <div class="bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden">
          <div class="px-6 py-4 ${colorClass} border-b border-slate-100 flex items-center gap-3">
            <span class="text-2xl">${icon}</span>
            <h3 class="font-bold text-slate-800 text-lg">${title}</h3>
          </div>
          <div class="p-6 text-base">
            ${content}
          </div>
        </div>
      `;
    }

    function openModal(id) {
      const lesson = lessons.find(l => l.id === id);
      if (!lesson) return;

      
      currentLesson = lesson;
byId('modal-title').textContent = lesson.title;
      byId('modal-desc').textContent = lesson.desc;

      let html = '';

      // 1) الأهداف
      const obj = lesson.objectives || {};
      const objHTML = `
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
            <strong class="block text-fun-blue mb-2">🧠 معرفية:</strong>
            <ul class="list-disc list-inside space-y-1 text-sm">${(obj.knowledge || []).map(i=>`<li>${i}</li>`).join('')}</ul>
          </div>
          <div class="bg-green-50 p-4 rounded-xl border border-green-100">
            <strong class="block text-fun-green mb-2">✋ مهارية:</strong>
            <ul class="list-disc list-inside space-y-1 text-sm">${(obj.skills || []).map(i=>`<li>${i}</li>`).join('')}</ul>
          </div>
          <div class="bg-orange-50 p-4 rounded-xl border border-orange-100">
            <strong class="block text-fun-orange mb-2">❤️ قيمية:</strong>
            <ul class="list-disc list-inside space-y-1 text-sm">${(obj.values || []).map(i=>`<li>${i}</li>`).join('')}</ul>
          </div>
        </div>
      `;
      html += buildSection("الأهداف التعليمية", objHTML, "🎯");

      // 2) المفاهيم
      if (lesson.vocab && lesson.vocab.length) {
        const vocabHTML = `<div class="flex flex-wrap gap-2">
          ${lesson.vocab.map(v => `<span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-lg font-semibold border border-slate-200">#${v}</span>`).join('')}
        </div>`;
        html += buildSection("المفاهيم والمفردات", vocabHTML, "📖");
      }

      // 3) STEM
      const stem = lesson.stem || {};
      const stemHTML = `
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-center text-sm">
          <div class="p-3 bg-blue-50 rounded-xl border border-blue-100"><strong class="block text-fun-blue mb-1">Science</strong>${stem.s || ''}</div>
          <div class="p-3 bg-purple-50 rounded-xl border border-purple-100"><strong class="block text-fun-purple mb-1">Technology</strong>${stem.t || ''}</div>
          <div class="p-3 bg-orange-50 rounded-xl border border-orange-100"><strong class="block text-fun-orange mb-1">Engineering</strong>${stem.e || ''}</div>
          <div class="p-3 bg-red-50 rounded-xl border border-red-100"><strong class="block text-red-500 mb-1">Math</strong>${stem.m || ''}</div>
        </div>
      `;
      html += buildSection("تكامل STEM", stemHTML, "⚙️");

      // 4) التمهيد
      html += buildSection("التمهيد", `<p class="leading-relaxed">${lesson.intro || ''}</p>`, "🔌");

      // 5) الخطة
      if (lesson.plan && lesson.plan.length) {
        html += buildSection("الشرح وخطة التنفيذ",
          `<ul class="space-y-4">
            ${lesson.plan.map(s => `<li class="flex gap-3 items-start">
              <span class="w-6 h-6 rounded-full bg-fun-purple text-white flex items-center justify-center text-xs font-bold shrink-0 mt-1">✓</span>
              <span class="leading-relaxed">${s}</span>
            </li>`).join('')}
          </ul>`, "📝");
      }

      // 6) النشاط
      const act = lesson.activity || {};
      const actMaterials = (act.materials || []);
      const actSteps = (act.steps || []);
      const actHTML = `
        <div class="space-y-4">
          ${actMaterials.length ? `<div class="bg-yellow-50 p-4 rounded-xl border border-yellow-100">
            <strong class="text-fun-yellow block mb-2">📦 المواد والأدوات:</strong>
            ${actMaterials.join('، ')}
          </div>` : ''}

          ${actSteps.length ? `<div>
            <strong class="block mb-3 text-slate-800">خطوات النشاط:</strong>
            <ol class="list-decimal list-inside space-y-2 text-slate-700 bg-slate-50 p-4 rounded-xl">
              ${actSteps.map(s => `<li>${s}</li>`).join('')}
            </ol>
          </div>` : ''}

          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
            ${act.product ? `<div class="p-3 bg-white border rounded-lg"><strong>المنتج:</strong> ${act.product}</div>` : ''}
            ${act.safety ? `<div class="p-3 bg-red-50 border border-red-100 text-red-700 rounded-lg"><strong>⚠️ السلامة:</strong> ${act.safety}</div>` : ''}
            ${act.criteria ? `<div class="p-3 bg-green-50 border border-green-100 text-green-700 rounded-lg"><strong>✅ المعايير:</strong> ${act.criteria}</div>` : ''}
          </div>
        </div>
      `;
      html += buildSection("نشاط / تحدي STEM", actHTML, "🚀", "bg-yellow-50");

      // 7) التقويم
      const as = lesson.assessment || {};
      const assessHTML = `
        <div class="divide-y divide-slate-100">
          ${as.pre ? `<div class="py-3"><strong class="text-fun-blue ml-2">قبلي:</strong> ${as.pre}</div>` : ''}
          ${as.formative ? `<div class="py-3"><strong class="text-fun-green ml-2">بنائي:</strong> ${as.formative}</div>` : ''}
          ${as.summative ? `<div class="py-3"><strong class="text-fun-purple ml-2">ختامي:</strong> ${as.summative}</div>` : ''}
          ${as.rubric ? `<div class="py-3 mt-2 bg-slate-50 p-3 rounded-lg text-sm text-slate-600 border border-slate-100"><strong>الروبرك:</strong> ${as.rubric}</div>` : ''}
        </div>
      `;
      html += buildSection("التقويم", assessHTML, "📊");

      // 8) إضافات
      const ex = lesson.extras || {};
      const extraHTML = `
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
          ${ex.skills21 ? `<div class="bg-slate-50 p-3 rounded"><strong>🌐 مهارات القرن 21:</strong> ${ex.skills21}</div>` : ''}
          ${ex.diff ? `<div class="bg-slate-50 p-3 rounded"><strong>🔀 التمايز:</strong> ${ex.diff}</div>` : ''}
          ${ex.misconceptions ? `<div class="bg-red-50 p-3 rounded text-red-800"><strong>❌ التصورات الخاطئة:</strong> ${ex.misconceptions}</div>` : ''}
          ${ex.enrichment ? `<div class="bg-yellow-50 p-3 rounded text-yellow-800"><strong>🌟 إثراء:</strong> ${ex.enrichment}</div>` : ''}
        </div>
      `;
      html += buildSection("معايير ومهارات أخرى", extraHTML, "💡");

      byId('modal-content').innerHTML = html;

      // show modal
      const modal = byId('lesson-modal');
      const backdrop = byId('modal-backdrop');
      const panel = byId('modal-panel');

      modal.classList.remove('hidden');
      setTimeout(() => {
        backdrop.classList.remove('opacity-0');
        panel.classList.remove('opacity-0', 'scale-95');
        panel.classList.add('opacity-100', 'scale-100');
      }, 30);

      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      const modal = byId('lesson-modal');
      const backdrop = byId('modal-backdrop');
      const panel = byId('modal-panel');

      backdrop.classList.add('opacity-0');
      panel.classList.remove('opacity-100', 'scale-100');
      panel.classList.add('opacity-0', 'scale-95');

      setTimeout(() => {
        modal.classList.add('hidden');
        document.body.style.overflow = 'auto';
      }, 250);
    }

    // إغلاق بالنقر على الخلفية
    byId('modal-backdrop').addEventListener('click', closeModal);

    // إغلاق بزر ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    document.addEventListener('DOMContentLoaded', renderLessons);
  </script>
</body>
</html>
